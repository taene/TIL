### 왜 내 클라이언트에서만 애니메이션이 실행되지 않는가?

가장 큰 이유는 '**애니메이션에 대한 권한**(Authority)'과 '**예측(Prediction)의 부재**' 때문입니다.

1.  **클라이언트의 애니메이션 권한:** 플레이어가 직접 조종하는 캐릭터의 애니메이션은 기본적으로 **클라이언트 자신에게 가장 높은 우선순위**가 있습니다. 만약 서버가 일방적으로 "이 애니메이션 재생해\!"라고 명령을 내리면, 네트워크 지연(Latency) 때문에 플레이어의 입력보다 늦게 도착하여 캐릭터의 움직임이 뚝 끊기고 과거로 돌아가는 것처럼 보이는 현상(렉, Rubber banding)이 발생합니다. 이는 최악의 사용자 경험입니다.

2.  **예측의 부재:** `LocalPredicted` 어빌리티는 이 문제를 해결하기 위해 존재합니다. 클라이언트가 먼저 "이 몽타주를 재생할게!"라고 **예측 실행**하고, 서버는 그 예측이 맞았는지 나중에 확인하고 승인(Confirm)만 해줍니다. 하지만 `ServerInitiated` 어빌리티는 이 예측 과정이 **전혀 없습니다.** 클라이언트는 어빌리티가 실행 중이라는 사실조차 모르고 있습니다.

따라서, `ServerInitiated` 어빌리티 내에서 `PlayMontageAndWait`을 호출하면 다음과 같은 일이 벌어집니다.

  * **서버:** 자신의 캐릭터에 대해 몽타주를 재생하고, `ReplicatedAnimMontage` 변수에 현재 재생 정보를 기록합니다.
  * **다른 플레이어 (Simulated Proxy):** `ReplicatedAnimMontage` 변수가 복제되는 것을 보고, "아, 저 캐릭터가 저 애니메이션을 재생하는구나"라고 인지하여 **자신의 화면에 애니메이션을 똑같이 따라 그립니다.**
  * **플레이어 본인 (Autonomous Proxy):** 서버로부터 `ReplicatedAnimMontage` 정보가 도착하지만, **자신은 예측 실행한 적이 없으므로** "이건 서버의 일방적인 명령이군"이라고 판단하고 **이를 무시합니다.** (애니메이션 권한 때문에)

결론적으로, 나를 제외한 다른 모든 사람에게는 내 캐릭터가 스킬 애니메이션을 쓰는 것처럼 보이지만, 정작 내 화면에서는 아무 일도 일어나지 않는 이상한 상황이 발생하는 것입니다.

| 문제 상황 | `ServerInitiated` 어빌리티 내에서 `PlayMontageAndWait` 호출 |
| :--- | :--- |
| **현상** | 나를 제외한 다른 플레이어에게만 애니메이션이 보임. |
| **원인** | 예측 컨텍스트가 없는 상태에서 서버가 클라이언트의 애니메이션 권한을 침범하려 하기 때문에, 클라이언트가 이를 무시함. |
