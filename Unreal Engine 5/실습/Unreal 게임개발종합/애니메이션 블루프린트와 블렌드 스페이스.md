## Animation Asset
### ğŸ” Animation Blueprint(ABP)
- ì• ë‹ˆë©”ì´ì…˜ ë¸”ë£¨í”„ë¦°íŠ¸ëŠ” Skeletal Meshì˜ Animation ë¡œì§ê³¼ ìƒíƒœì „í™˜(State Machine), ì´ë²¤íŠ¸(EventGraph) ë“±ì„ ì‹œê°ì ìœ¼ë¡œ ì„¤ê³„í•  ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œì´ë‹¤.
- ìºë¦­í„°ì˜ ì´ë™ì†ë„ë‚˜ ë°©í–¥, ê³µê²©ìƒíƒœ, í”¼ê²©ìƒíƒœ ë“±ì— ë”°ë¼ **ì–´ë–¤ ì• ë‹ˆë©”ì´ì…˜ì„ ì¬ìƒí• ì§€** ê²°ì •í•˜ëŠ” ë¡œì§ì„ Blueprintë¡œ ì‰½ê²Œ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.
- [ì• ë‹ˆë©”ì´ì…˜ ë¸”ë£¨í”„ë¦°íŠ¸ ê³µì‹ë¬¸ì„œ](https://dev.epicgames.com/documentation/ko-kr/unreal-engine/animation-blueprints-in-unreal-engine)

<br/>

### ğŸ” ABPì˜ ê·¸ë˜í”„
1. Anim Graph
![image](https://github.com/user-attachments/assets/8c581628-246f-4cb8-8333-c83ccd9da428)
- ì• ë‹ˆë©”ì´ì…˜ ìƒíƒœì „í™˜(State Machine)ê³¼ ë¸”ë Œë“œ(Blend) ë¡œì§ì„ ì—°ê²°í•˜ëŠ” ë©”ì¸ ê·¸ë˜í”„
- ìµœì¢…ì ìœ¼ë¡œ ìºë¦­í„° ë©”ì‹œì— ì ìš©ë  í¬ì¦ˆ(ìì„¸)ë¥¼ ê²°ì •

<br/>

2. Event Graph
![image](https://github.com/user-attachments/assets/1b6c3f32-f27b-423f-921b-332d61b3b1bd)
- ìºë¦­í„°ì˜ ì†ë„, ë°©í–¥, ì…ë ¥ ê°’ ë“±ì„ ìˆ˜ì§‘í•´ ì• ë‹ˆë©”ì´ì…˜ ë³€ìˆ˜(Speed, IsInAir ë“±)ë¥¼ ì—…ë°ì´íŠ¸í•¨
- ì¼ë°˜ ë¸”ë£¨í”„ë¦°íŠ¸ì˜ ì´ë²¤íŠ¸ ê·¸ë˜í”„ì™€ ë™ì¼í•œ UIì™€ ë°©ì‹ì„ ì‚¬ìš©í•¨

<br/>

### ğŸ” ì• ë‹ˆë©”ì´ì…˜ ì—ì…‹ì˜ ì¢…ë¥˜
1. ì• ë‹ˆë©”ì´ì…˜ ì‹œí€€ìŠ¤(Animation Sequence)
 - ê±·ê¸°, ë›°ê¸°, ê³µê²© ë“± ë‹¨ì¼ ëª¨ì…˜ì´ ë“¤ì–´ìˆëŠ” íŒŒì¼
2. ì• ë‹ˆë©”ì´ì…˜ ëª½íƒ€ì£¼(Animation Montage)
 - ì—¬ëŸ¬ ì‹œí€€ìŠ¤ë¥¼ ì¬ìƒ êµ¬ê°„ë³„ë¡œ í¸ì§‘í•˜ê³  í•©ì¹  ìˆ˜ ìˆëŠ” íŠ¹ìˆ˜í•œ ì• ì…‹(ì£¼ë¡œ íŠ¹ì • ì´ë²¤íŠ¸ ì²˜ë¦¬ì— ì‚¬ìš©)
3. ë¸”ë Œë“œ ìŠ¤í˜ì´ìŠ¤(Blend Space)
 - ì—¬ëŸ¬ ì• ë‹ˆë©”ì´ì…˜ ì‹œí€€ìŠ¤ë¥¼ ì¶• ê°’(X/Y)ì— ë”°ë¼ ìì—°ìŠ¤ëŸ½ê²Œ ì„ì–´(Blend) ì¬ìƒí•˜ê¸° ìœ„í•œ ì• ì…‹(ex_ê±·ê¸°â†’ë›°ê¸°, Idleâ†’Run ë“±)

<br/>

### â¡ï¸ ì• ë‹ˆë©”ì´ì…˜ ì ìš© ì‹¤ìŠµ
![image](https://github.com/user-attachments/assets/a3a093eb-8ce8-484d-bb97-adce0880b9eb)
- Animation â†’ Animation Blueprint ìƒì„± â†’ SK_Bot Skeleton Select â†’ Name: ABP_Character

![image](https://github.com/user-attachments/assets/63a0f5fe-e298-4a94-b025-de752eba5c24)
- Asset Browser â†’ Idle Animationì„ Anim Graphë¡œ ë“œë˜ê·¸ â†’ Output Poseì— ì—°ê²°

![image](https://github.com/user-attachments/assets/8d8830f2-f403-4119-aa9d-6e96e42417c0)
- ìºë¦­í„° ë¸”ë£¨í”„ë¦°íŠ¸(BP_Character) â†’ Anim Classì— ABP_Character ë“±ë¡

![image](https://github.com/user-attachments/assets/24c06d5e-276a-4ef1-8a3b-a40afce3bc92)
- ê²Œì„ì„ ì‹¤í–‰í•˜ë©´ Idle ì• ë‹ˆë©”ì´ì…˜ì´ ì ìš©ëœ ëª¨ìŠµì´ë‹¤.

<br/>

## Blend Space
### ğŸ” ë¸”ë Œë“œ ìŠ¤í˜ì´ìŠ¤ë¥¼ ì“°ëŠ” ì´ìœ 
- ë‹¨ìˆœíˆ ê±·ê¸° ì• ë‹ˆë©”ì´ì…˜ê³¼ ë›°ê¸° ì• ë‹ˆë©”ì´ì…˜ì„ êµ¬ë¶„í•´ì„œ ì¬ìƒí•˜ë©´, ì• ë‹ˆë©”ì´ì…˜ ì „í™˜ ì‹œ ë¶€ë“œëŸ¬ìš´ ì—°ê²°ì´ ì–´ë µë‹¤.
- Blend Spaceë¥¼ ì‚¬ìš©í•´ ì†ë„ ê°’ ë“± íŠ¹ì • íŒŒë¼ë¯¸í„°ì— ë”°ë¼ì„œ Walkì™€ Runì„ ì—°ì†ì ìœ¼ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ì„ì–´ ì¬ìƒì´ ê°€ëŠ¥í•˜ë‹¤.

<br/>

### â¡ï¸ Walk and Run í•©ì„±
![image](https://github.com/user-attachments/assets/b94a170a-d685-48c9-9ac1-a4005aaf0564)
- Animation â†’ Blend Space ìƒì„± â†’ SK_Bot Skeleton Select â†’ Name: BS_WalkRun

![image](https://github.com/user-attachments/assets/68d82a1d-d715-4b9b-acd5-e2c4c1e11530)
- Blend Spaceì˜ GraphëŠ” x,y ì¶•ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.
- Asset Details íŒ¨ë„ì˜ Axis Settingsì˜ ê°€ë¡œ ì¶•(Horizontal Axis)ê³¼ ì„¸ë¡œ ì¶•(Vertical Axis)ì„ ì„¸íŒ…í•  ìˆ˜ ìˆë‹¤.
- Vertical Axisì˜ Name: Speed, Maximum Axis Value: 500, Grid Divisions: 2ë¡œ ì„¤ì •í•œ ëª¨ìŠµì´ë‹¤.

![image](https://github.com/user-attachments/assets/391d8f3b-1091-4afd-8275-b7031718abea)
1. Asset Browserì˜ Idleê³¼ Run â†’ Blend Space Graphì— ë“œë˜ê·¸ ë“œë¡­í•œë‹¤.
2. Speedê°€ 0ì¼ ë•Œ Idleì„ ë°°ì¹˜í•˜ê³ , Speedê°€ ìµœëŒ€ì¼ ë•Œ Runì„ ë°°ì¹˜í•œë‹¤.
3. Animationì„ ë°°ì¹˜í•  ë•Œ, **Shift + Mouse Left**ë¡œ ë°°ì¹˜í•˜ë©´ Graphì˜ Gridì— ë§ì¶° ë°°ì¹˜í•  ìˆ˜ ìˆë‹¤.
4. Graph ìœ„ì—ì„œ **Ctrl + Mouse Move**ë¡œ Preview Point(ì´ˆë¡ìƒ‰ X)ë¥¼ ì›€ì§ì—¬ì„œ Characterì˜ ì›€ì§ì„ì„ ë³¼ ìˆ˜ ìˆë‹¤.
5. ì˜¤ë¥¸ìª½ ì•„ë˜ì˜ Recordì˜† Play ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ Speedì— ë”°ë¥¸ ì›€ì§ì„ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

![image](https://github.com/user-attachments/assets/deb4c6f4-7442-45ff-a47a-2275b2b3b29c)
- ë§Œë“  ë¸”ë Œë“œ ìŠ¤í˜ì´ìŠ¤ì¸ BS_WalkRunì„ ì• ë‹ˆë©”ì´ì…˜ ë¸”ë£¨í”„ë¦°íŠ¸ì¸ ABP_Characterì— ë°°ì¹˜í•´ ì—°ê²°í•œë‹¤.
- í˜„ì¬ê¹Œì§„ ì†ë„ ê°’ì´ ì—†ê¸° ë•Œë¬¸ì— ì—°ê²°í•´ì„œ ìºë¦­í„°ë¥¼ ì›€ì§ì—¬ë„ ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.
- ë”°ë¼ì„œ BS_WalkRunì˜ Speed ê°’ì„ ê°–ëŠ” ë°©ë²•ì„ ì•Œì•„ì•¼ í•œë‹¤.

<br/>

### â¡ï¸ ABPì˜ ì´ë²¤íŠ¸ ê·¸ë˜í”„ì—ì„œ ì†ë„ê°’ ìˆ˜ì§‘
![image](https://github.com/user-attachments/assets/953ab088-093b-478f-8699-50691a6755fe)
- Animation Blueprintì—ì„œ ì™¼ìª½ì˜ Variables(ë³€ìˆ˜) â†’ float íƒ€ì… Speed ë³€ìˆ˜ë¥¼ ìƒì„± â†’ Anim Graphì— ë“œë¡­í•´ GetSpeed â†’ BSì˜ Speedì— ì—°ê²°í•œë‹¤.
- ì´ëŠ” float íƒ€ì… Speed ë³€ìˆ˜ì˜ ê°’ì„ ë°›ê²Œ ë˜ë©´, BSì˜ Speedë¡œ ì „ë‹¬í•œë‹¤ëŠ” ëŠë‚Œì´ë‹¤.

![image](https://github.com/user-attachments/assets/e01103b7-26c3-4fe2-b7e2-28b8fa861d5d)
- Event Blueprint Update Animation: ë§¤ í”„ë ˆì„ë§ˆë‹¤ ì‹¤í–‰ëœë‹¤.
- Try Get Pawn Owner: í˜„ì¬ ì• ë‹ˆë©”ì´ì…˜ ë¸”ë£¨í”„ë¦°íŠ¸ê°€ ì ìš©ëœ Pawnì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
1. **GetVelocity**ë¡œ Pawnì˜ ì†ë„ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
2. walkì™€ runì€ zì¶•ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  x,y ì¶•ì„ ì‚¬ìš©í•˜ë¯€ë¡œ, GetVelocityì˜ Valueë¥¼ **Split Struct Pin**(**êµ¬ì¡°ì²´ í•€ ë¶„í• **)í•˜ì—¬ x,y ê°’ë§Œ ì‚¬ìš©í•œë‹¤.
3. **Make Vector**ë¡œ x,yê°’ì„ ë‹´ì€ 2D Vectorë¥¼ ë§Œë“¤ê³ , Vector Length(ë²¡í„°ì˜ ìŠ¤ì¹¼ë¼ ê°’)ë¥¼ êµ¬í•´ SetSpeed í•´ì¤€ë‹¤.
4. (?) Is Valid: Animationì´ Exec(ì‹¤í–‰)ë  ë•Œ, Input Objectì¸ Pawn Ownerì˜ ì •ë³´ê°€ ìœ íš¨(ì¡´ì¬)í•˜ë©´ SetSpeedë¥¼ í•œë‹¤.

<br/>

## State Machine
- ìƒíƒœ(State) + ê¸°ê³„(Machine)
  - ìƒíƒœ(State)ëŠ” ì‹œìŠ¤í…œ(ë˜ëŠ” ê°ì²´)ì´ í˜„ì¬ ì–´ë–¤ ì¡°ê±´ì— ë†“ì—¬ ìˆëŠ”ì§€ë¥¼ ëœ»í•œë‹¤.
- "ì •í•´ì§„ ì—¬ëŸ¬ ìƒíƒœ ì¤‘ í•˜ë‚˜ì— ìˆìœ¼ë©´ì„œ íŠ¹ì • ì…ë ¥ì´ë‚˜ ì‚¬ê±´(Event)ì— ì˜í•´ ë‹¤ë¥¸ ìƒíƒœë¡œ ì „ì´(Transition)í•œë‹¤"
- [State Machine ê³µì‹ë¬¸ì„œ](https://dev.epicgames.com/documentation/ko-kr/unreal-engine/state-machines-in-unreal-engine)
### â¡ï¸ State Machine ì ìš©
![image](https://github.com/user-attachments/assets/b2668675-155b-45b8-882a-1cf2ea898cef)
- Anim Graph â†’ ìš°í´ë¦­ â†’ Add New State Machine ìƒì„±
- State Machine ë‚´ë¶€ì—ì„œ Add State(Idle, Run)
- ê° Stateì— Idle Sequenceì™€ WalkRun Blendspaceë¥¼ ì—°ê²°

![image](https://github.com/user-attachments/assets/d80fbdda-d45f-443c-942f-48d8d6494004)
- Create Transition

![image](https://github.com/user-attachments/assets/853c34b8-7985-4a09-aa24-b8fc91cbaca2)
- Transition Rule: Stateê°€ ë³€í•˜ëŠ” ì¡°ê±´

![image](https://github.com/user-attachments/assets/3d3025cb-4821-4e2c-9333-3068860717a8)
- Speedê°€ 0ë³´ë‹¤ í¬ë©´(**> Greater Operation**) Idle â†’ Run

![image](https://github.com/user-attachments/assets/8bb33c3d-4bb3-458c-aadb-6535e0342066)
- Speedê°€ 0ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ìœ¼ë©´(**<= Less Equal Operation**) Run â†’ Idle

![image](https://github.com/user-attachments/assets/97883b36-bfca-420f-824d-a8d4eb8a75a0)
- Anim Graphì—ì„œ ê¸°ì¡´ì˜ Blendspaceë¥¼ í•´ì œí•˜ê³ (**Alt + Mouse Left Pin Click**) ìƒˆë¡œ ë§Œë“  State Machine ì—°ê²°

<br/>

### â¡ï¸ ABPì˜ ì´ë²¤íŠ¸ ê·¸ë˜í”„ì—ì„œ ì í”„ê°’ ìˆ˜ì§‘
![image](https://github.com/user-attachments/assets/03f5d579-66e5-4c64-a676-862546fb95a1)
- ì•ì„œ í”Œë ˆì´ì–´ ìºë¦­í„°ë¥¼ ë§Œë“¤ ë•Œ, Character Movement Componentë¥¼ í†µí•´ Jumpë¥¼ êµ¬í˜„í–ˆê³ , Movement Componentê°€ ê°€ì§€ê³  ìˆëŠ” IsFalling ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
1. boolean íƒ€ì…ì˜ IsInAir ë³€ìˆ˜ë¥¼ ìƒì„±í•œë‹¤.
2. Pawnì˜ ì •ë³´ë¥¼ í†µí•´ Character Movement Componentë¥¼ ë°›ì•„ì„œ IsFalling ë³€ìˆ˜ë¥¼ ë°›ê³  Set IsInAirí•œë‹¤.
3. ë³¸ë¬¸ ìœ„ì˜ Speed ë³€ìˆ˜ì™€ IsInAir ë³€ìˆ˜ì˜ ê°’ì„ ë™ì‹œì— ìˆ˜ì§‘í•˜ê¸° ìœ„í•´ Flow Control - **Sequence** ë…¸ë“œë¥¼ ìƒì„±í•œë‹¤.

<br/>

### â¡ï¸ Jump, Land State
![image](https://github.com/user-attachments/assets/33cd3a2b-a353-4785-975c-e7f96eade114)
- ìƒíƒœë¨¸ì‹ ì—ì„œ Jump, Fall, Land State 3ê°œì™€ Idle/Run State Aliasë¥¼ ìƒì„±í•œë‹¤.
- State Alias: ì—¬ëŸ¬ ìƒíƒœë¥¼ ëŒ€ì‹  ì²˜ë¦¬í•œë‹¤.

![image](https://github.com/user-attachments/assets/a6147f1f-744b-48ff-9b35-2c34416ed9c3)
- Idle/Run State Aliasì˜ ì˜µì…˜ì— Idleê³¼ Runì„ ì²´í¬í•œë‹¤.

![image](https://github.com/user-attachments/assets/66c0d117-5680-466f-abb7-06cc96ac65fc)
- Jump, Fall, Land Stateì— Animation Sequenceë¥¼ ë„£ëŠ”ë‹¤.
- Fallì˜ ê²½ìš° ë–¨ì–´ì§€ëŠ” ë™ì•ˆì—” Fall Animationì„ ê³„ì† í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— Animation Loopë¥¼ ê±¸ì–´ì¤€ë‹¤.

![image](https://github.com/user-attachments/assets/96c485fb-eda8-4eb0-ac23-236e5cce6cd4)
- Idle â†’ Jump, Run â†’ Jump / Idle/Run â†’ Fall / Jump â†’ Fall / Fall â†’ Land
- ë…¼ë¦¬ì ì¸ ìƒíƒœ íë¦„ì„ ìƒê°í•˜ê³  Transitionì„ ì—°ê²°í•œë‹¤.

![image](https://github.com/user-attachments/assets/cc0d3a29-1e8f-4f3d-bb8c-bd427a3e1027)
- Idle/Run â†’ Jump: IsInAirì´ Trueì¼ ë•Œ
- Boolean ë³€ìˆ˜ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ Falseì´ë¯€ë¡œ IsInAirì´ Trueê°€ ë˜ë©´ Resultë„ Trueê°€ ëœë‹¤.

![image](https://github.com/user-attachments/assets/78027198-c2d9-4dba-becd-57381e3b6581)
- Idle/Run â†’ Fall: IsInAirì´ Trueì¼ ë•Œ(ìœ„ì˜ Jumpì™€ ë§ˆì°¬ê°€ì§€)

![image](https://github.com/user-attachments/assets/9d97918f-7a23-4575-906e-6bbdfdd3c62b)
- Automatic Rule Based on Sequence Player in State: ìŠ¤í…Œì´íŠ¸ì˜ ì‹œí€€ìŠ¤ í”Œë ˆì´ì–´ì— ë”°ë¥¸ ìë™ ê·œì¹™, í•´ë‹¹ ë…¸ë“œì˜ ì• ë‹ˆë©”ì´ì…˜ì´ ëë‚˜ë©´ ìë™ìœ¼ë¡œ ë‹¤ìŒ Stateë¡œ ë„˜ì–´ê°„ë‹¤.
- Jump â†’ Fall: Jump ì• ë‹ˆë©”ì´ì…˜ì´ ëë‚˜ë©´ ìë™ìœ¼ë¡œ Fallë¡œ ì „í™˜

![image](https://github.com/user-attachments/assets/1937ec4c-6c65-41e8-903d-260ea5b76386)
- Fall â†’ Land: IsInAirì´ Falseì¼ ë•Œ (**Not Boolean** Node)

![image](https://github.com/user-attachments/assets/ed34e47d-a7a7-41cb-903e-41318494020d)
- Land â†’ Idle: Land ì• ë‹ˆë©”ì´ì…˜ì´ ëë‚˜ë©´ ìë™ìœ¼ë¡œ Idleë¡œ ì „í™˜


<br/>

