## 1. 스레드 (Thread) 이해하기 😶‍🌫️

- **싱글 스레드 (요리사 1명)**
    - 주문받기 → 요리 → 서빙 → 설거지 (순차 처리)
    - 손님 몰리면 대기 시간 ↑
- **멀티 스레드 (요리사 여러명)**
    - 동시에 다른 작업 처리
    - 하지만 한 요리사가 늦으면? → 전체가 기다림 (병목!)
- 핵심 원리
    
    > "게임 성능 = 가장 느린 스레드의 속도"
    > 
    - 8개 스레드 중 1개가 20ms → 전체 20ms
    - 이것이 **암달의 법칙 (Amdahl's Law)**

## 2. 언리얼 엔진의 주요 스레드 👽

### 1. GameThread (메인 스레드) - **게임의 뇌**

- 플레이어 입력 처리
- Actor Tick 실행
- 게임 로직 업데이트
- AI 의사결정
- **⚠️ 순서가 중요 = 병렬화 어려움**

### 2. RenderThread (렌더 스레드) - **그리기 계획 수립**

- Visibility Culling (보이는 것만 선별)
- Draw Call 준비
- 셰이더 파라미터 설정
- **💡 실제로 그리지 않음, GPU 명령 리스트만 작성**

### 3. RHIThread (하드웨어 인터페이스) - **번역가 역할**

- 언리얼 명령 → DirectX/Vulkan API 변환
- GPU 드라이버와 통신
- 플랫폼별 차이 흡수

### 4. Worker Threads (워커 스레드) - **만능 일꾼들**

- 애니메이션 계산
- 물리 시뮬레이션
- 파티클 시스템
- AI 경로 탐색
- **Thread Pool에서 필요시 할당**

## 3. 병목 현상 진단하기 💨

### 병목의 종류

**CPU Bound (CPU 병목)**

```
증상: GPU 여유 있는데 FPS 낮음
원인:
- 과도한 Actor Tick
- 복잡한 게임 로직
- 블루프린트 남용 (C++보다 10-100배 느림)
- AI 과부하
```

**GPU Bound (GPU 병목)**

```
증상: CPU 여유 있는데 FPS 낮음
원인:
- 높은 해상도 (4K = 1080p의 4배)
- 복잡한 셰이더
- 과도한 포스트프로세싱
- 레이트레이싱
```

**메모리 병목**

```
증상: 간헐적 심각한 프레임 드랍
원인:
- 가비지 컬렉션 (100ms+ 정지)
- 텍스처 스트리밍 지연
- 메모리 스왑
```

### 파이프라인 구조 이해

### 프레임 처리 과정

```
Frame N:   GameThread 처리 중
Frame N-1: RenderThread 준비 중
Frame N-2: RHIThread 전송 중
Frame N-3: GPU 그리는 중
```

**→ 각 스레드가 다른 프레임을 동시 처리!**

## 4. 최적화 핵심 원칙 😐

### 최적화의 황금률

1. **측정 없는 최적화는 추측일 뿐**
    - 반드시 프로파일링으로 확인
2. **80/20 법칙**
    - 성능 문제의 80%는 코드의 20%에서 발생
3. **조기 최적화는 악의 근원**
    - 먼저 동작하게 만들고, 그 다음 최적화
4. **트레이드오프 이해**
    - 성능 vs 품질
    - 메모리 vs 속도
    - 개발시간 vs 실행시간
