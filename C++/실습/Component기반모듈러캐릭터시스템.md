## 학습 키워드

  - 라이라(Lyra) 아키텍처
  - 게임 피처 플러그인 (Game Feature Plugin)
  - 데이터 중심 설계 (Data-Driven Design)
  - 컴포넌트 생성 전략 (Component Creation Strategy)
  - 델리게이트(Delegate)와 인터페이스(Interface)의 구분

<br/>

## 학습 내용

### 배운 개념 요약

  - **라이라 철학의 통합적 이해**: 라이라의 설계 원칙(단일 책임, 데이터 중심, 확장성, 모듈화)은 개별적인 것이 아니라, 하나의 유기적인 시스템으로 동작한다. 핵심은 **기능의 독립성**과 **동적 조립**이다.

  - **게임 피처 플러그인**: 라이라의 모듈화는 컴포넌트 단위를 넘어, '슈팅'이나 '인벤토리' 같은 게임의 핵심 기능 전체를 독립된 플러그인으로 분리하는 수준까지 확장된다. 이를 통해 기능의 동적 로드/언로드가 가능해져, 거대 플랫폼형 게임(예: 포트나이트)의 기술적 기반을 마련한다.

  - **데이터 중심 설계의 실체**: `LyraPawnData`와 같은 데이터 애셋을 활용하여 **코드와 데이터를 완벽히 분리**한다. 프로그래머는 기능 '부품'만 만들고, 기획자는 이 부품들을 데이터 테이블에서 조립하여 새로운 캐릭터나 콘텐츠를 생성한다. 이는 개발 속도를 크게 향상시킨다.

  - **컴포넌트 생성 전략**: 컴포넌트를 언제 어떻게 생성할지에 대한 명확한 기준이 존재한다.
    | 생성 방식 | 핵심 기준 | 설명 |
    | :--- | :--- | :--- |
    | **생성자** | **정체성 (Identity)** | 해당 액터의 본질을 구성하며, 존재하지 않으면 안 되는 핵심 컴포넌트. |
    | **블루프린트** | **유형 (Archetype)** | 특정 유형의 액터를 정의하며, 디자이너의 설정이 필요한 시각적/기능적 컴포넌트. |
    | **런타임** | **상태 (State)** | 일시적인 능력, 아이템, 특정 조건 하에서만 존재하는 동적인 기능 컴포넌트. |

  - **델리게이트 vs. 인터페이스**: 두 시스템의 목적을 명확히 구분해야 한다.

      - **인터페이스**: **"~를 할 수 있는가?" (Capability)**. 호출 대상의 기능 보유 여부를 묻고, 다형성을 통해 다양한 구현을 가능하게 한다.
      - **델리게이트**: **"~라는 사건이 발생했다!" (Notification)**. 이벤트 발생 사실만 알릴 뿐, 누가 듣는지는 전혀 신경 쓰지 않아 시스템 간의 결합도를 끊어낸다.

<br/>

### 구현 과정

라이라의 설계 사상을 따라 '투명화 물약' 기능을 구현하는 과정은 다음과 같은 사고방식을 따른다.

1.  **기능 컴포넌트화**: 투명화 로직(메시 숨김, AI에게 감지되지 않음 등)만을 담당하는 `UInvisibilityComponent`를 `UActorComponent` 기반으로 생성한다. (단일 책임 원칙)

2.  **데이터 정의**: `LyraPawnData`나 별도의 아이템 데이터 애셋에, `UInvisibilityComponent`를 추가해야 한다는 '설정값'을 정의한다. 코드에 `UInvisibilityComponent` 클래스 이름을 직접 쓰지 않는다. (데이터 중심 설계)

3.  **런타임 조립**: 플레이어가 투명화 물약을 마시면, 해당 데이터 애셋을 읽어 `NewObject`와 `RegisterComponentWithWorld`를 통해 `UInvisibilityComponent`를 플레이어 캐릭터에 동적으로 부착한다.

4.  **이벤트 통신**: `UInvisibilityComponent` 내부에는 `OnInvisibilityEnded`와 같은 멀티캐스트 델리게이트를 선언한다. 투명화 지속 시간이 끝나면 이 델리게이트를 `Broadcast()` 한다.

5.  **시스템 분리**: UI, 사운드, VFX 매니저 등 다른 시스템들은 플레이어가 생성될 때 `UInvisibilityComponent`의 `OnInvisibilityEnded` 델리게이트에 자신의 함수를 바인딩한다. 이를 통해 `UInvisibilityComponent`는 다른 시스템의 존재를 전혀 모르는 상태로 이벤트만 알리고, 각 시스템은 알아서 후처리를 수행한다. (디커플링)

<br/>

## 느낀점

  - 라이라의 아키텍처는 단순히 코드를 정리하는 기술이 아니라, 게임 개발의 패러다임을 바꾸는 철학에 가깝다. 상속 기반의 경직된 구조에서 벗어나, 레고 블록처럼 기능을 조립하는 유연한 구조는 대규모 프로젝트의 확장성과 유지보수성을 극적으로 향상시킨다.
  - 처음에는 모든 것을 분리하고 데이터화하는 과정이 복잡하게 느껴질 수 있다. 하지만 장기적으로는 이것이 콘텐츠 추가 및 수정 속도를 높이고, 팀원 간의 충돌을 줄이며, 버그를 예측 가능한 범위 내에서 통제할 수 있게 만드는 핵심이라는 것을 이해했다.
  - '델리게이트'와 '인터페이스'의 정확한 용도를 구분하고, '컴포넌트'를 상태에 따라 동적으로 붙였다 떼는 개념을 실무에 적용하는 것이 주니어 개발자와 시니어 아키텍트를 가르는 중요한 기준점 중 하나가 될 것이라 생각한다.
